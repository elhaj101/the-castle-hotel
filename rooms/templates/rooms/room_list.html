{% extends 'base.html' %}
{% block header %} The Castle Hotel - Rooms {% endblock %}
{% block content %}
<div class="section22">
  <h1> We have a variety of booking options </h1>
  <p> You can choose a single room or a double room or even a suit </p>
  <div class="flex items-center justify-center">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4">
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <img src="../../../static/media/room4.jpg" alt="Photo 1" class="w-full h-auto object-cover">
        <p class="text-center mt-2 text-gray-700">Double Room</p>
      </div>
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <img src="../../../static/media/singleroom.jpg" alt="Photo 2" class="w-full h-auto object-cover">
        <p class="text-center mt-2 text-gray-700">Single Room</p>
      </div>
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <img src="../../../static/media/room1.jpg" alt="Photo 3" class="w-full h-auto object-cover">
        <p class="text-center mt-2 text-gray-700">Suite</p>
      </div>
    </div>
  </div>
  <div class="flex justify-center mt-4">
    <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Book</button>
  </div>
</div>
<div class="bg-white shadow-md rounded-lg p-6 my-6">
  <!-- Comments Section -->
  <h2 class="text-2xl font-semibold mb-4">Comments</h2>

  <!-- Display Comments -->
  <div class="space-y-4">
      {% for comment in comments %}
      <div class="border-b pb-4">
          <p class="text-gray-800"><strong>{{ comment.user }}</strong> said:</p>
          <p class="text-gray-600">{{ comment.text }}</p>
          <p class="text-sm text-gray-400">{{ comment.created_at|date:"F j, Y, g:i a" }}</p>
      </div>
      {% empty %}
      <p class="text-gray-500">No comments yet. Be the first to comment!</p>
      {% endfor %}
  </div>

  <!-- Add Comment Form -->
  {% if user.is_authenticated %}
  <form method="post" action="{% url 'add_comment' 'restaurant' %}" class="mt-6">
      {% csrf_token %}
      <textarea name="text" rows="3" class="w-full border rounded-lg p-3 focus:outline-none focus:ring focus:ring-blue-300" placeholder="Write your comment here..." required></textarea>
      <button type="submit" class="mt-3 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
          Add Comment
      </button>
  </form>
  {% else %}
  <p class="text-gray-500 mt-4">
      <a href="{% url 'login' %}" class="text-blue-500 hover:underline">Log in</a> to add a comment.
  </p>
  {% endif %}
</div>
{% endblock %}
 